---
name: Search
menu: Forms
route: /forms/search
---

import { Playground } from '@playground';
import { Form } from 'react-final-form';
import { Button } from '@tpr/core';
import { FFSearch } from './search';
import { useState } from 'react';

# Search Input

Search component to select value from options.

## When To Use

- A dropdown menu for displaying choices - an elegant alternative to the native `<select>` element.
- Utilizing Radio is recommended when there are fewer total options (less than 5).

## Usage

`Inside your React project directory, run the following:`

```js
yarn add @tpr/forms
```

`or with npm`

```js
npm install @tpr/forms
```

`import items you wish to use from the library`

```js
import { FFSearch } from '@tpr/forms';
```

## Examples

### Search input with label & hint

<Playground>
	{() => {
		const values = [
			{
				organisationName: 'AAAAAA',
				addressLine1: 'address1',
				addressLine2: '',
				addressLine3: 'address13',
				postTown: 'London',
				postCounty: '',
				postcode: 'SE11 5AA',
			},
			{
				organisationName: 'BBBBBB',
				addressLine1: 'address2',
				addressLine2: 'address22',
				addressLine3: 'address23',
				postTown: 'Manchester',
				postCounty: '',
				postcode: 'SE12 5BB',
			},
			{
				organisationName: 'CCCCCC',
				addressLine1: 'address3',
				addressLine2: 'address32',
				addressLine3: 'address33',
				postTown: 'Liverpool',
				postCounty: '',
				postcode: 'SE13 5CC',
			},
			{
				organisationName: 'DDDDDD',
				addressLine1: 'address4',
				addressLine2: 'address42',
				addressLine3: 'address43',
				postTown: 'Brighton',
				postCounty: '',
				postcode: 'SE14 5DD',
			},
			{
				organisationName: 'EEEEEE',
				addressLine1: 'address5',
				addressLine2: 'address52',
				addressLine3: 'address53',
				postTown: 'Cardiff',
				postCounty: '',
				postcode: 'SE15 5EE',
			},
			{
				organisationName: 'BBABBB',
				addressLine1: 'address6',
				addressLine2: 'address62',
				addressLine3: 'address63',
				postTown: 'Manchester',
				postCounty: '',
				postcode: 'SE16 6FF',
			},
		];
		const [valueSelected, setValueSelected] = useState(null);
		const cb = (selection) => {
			console.log('callback function: ', selection);
			setValueSelected(selection);
		};
		return (
			<>
				{valueSelected == null && (
					<Form onSubmit={() => console.log('onSubmit:', valueSelected)}>
						{({ handleSubmit }) => (
							<form onSubmit={handleSubmit}>
								<FFSearch
									name="accessible-search"
									label="Search Organisation"
									hint="Search by organisation name."
									inputWidth={5}
									optionsArray={values}
									keyValue="organisationName"
									readOnly={true}
									required={true}
									callback={cb}
								/>
								<Button type="submit" cfg={{ mt: 3 }}>
									Submit form
								</Button>
							</form>
						)}
					</Form>
				)}
				{valueSelected !== null && (
					<>
						<p>{valueSelected.organisationName}</p>
						<Button
							type="button"
							cfg={{ mt: 3 }}
							onClick={() => setValueSelected(null)}
						>
							Change Organisation
						</Button>
					</>
				)}
			</>
		);
	}}
</Playground>

### Search input without hint

<Playground>
	{() => {
		const values = [
			{
				organisationName: 'AAAAAA',
				addressLine1: 'address1',
				addressLine2: '',
				addressLine3: 'address13',
				postTown: 'London',
				postCounty: '',
				postcode: 'SE11 5DD',
			},
			{
				organisationName: 'BBBBBB',
				addressLine1: 'address2',
				addressLine2: 'address22',
				addressLine3: 'address23',
				postTown: 'Manchester',
				postCounty: '',
				postcode: 'SE12 5DD',
			},
			{
				organisationName: 'CCCCCC',
				addressLine1: 'address3',
				addressLine2: 'address32',
				addressLine3: 'address33',
				postTown: 'Liverpool',
				postCounty: '',
				postcode: 'SE13 5DD',
			},
			{
				organisationName: 'DDDDDD',
				addressLine1: 'address4',
				addressLine2: 'address42',
				addressLine3: 'address43',
				postTown: 'Brighton',
				postCounty: '',
				postcode: 'SE14 5DD',
			},
			{
				organisationName: 'EEEEEE',
				addressLine1: 'address5',
				addressLine2: 'address52',
				addressLine3: 'address53',
				postTown: 'Cardiff',
				postCounty: '',
				postcode: 'SE15 5DD',
			},
			{
				organisationName: 'BBABBB',
				addressLine1: 'address6',
				addressLine2: 'address62',
				addressLine3: 'address63',
				postTown: 'Manchester',
				postCounty: '',
				postcode: 'SE12 6DD',
			},
		];
		const [valueSelected, setValueSelected] = useState(null);
		const cb = (selection) => {
			console.log('callback function: ', selection);
			setValueSelected(selection);
		};
		const searchService = () => {
			setTimeout(() => {
				console.log('setTimeout', values);
				return values;
			}, 1500);
		};
		return (
			<Form onSubmit={() => console.log('onSubmit:', valueSelected)}>
				{({ handleSubmit }) => (
					<form onSubmit={handleSubmit}>
						<FFSearch
							name="accessible-search"
							label="Search Organisation"
							inputWidth={5}
							searchService={searchService}
							keyValue="organisationName"
							readOnly={true}
							required={true}
							callback={cb}
						/>
						<Button type="submit" cfg={{ mt: 3 }}>
							Submit form
						</Button>
					</form>
				)}
			</Form>
		);
	}}
</Playground>

## API

```
Accepted config props: FlexProps, SpaceProps
```

### Props

| Property        | Required | Type     | Description                                                                            |
| --------------- | -------- | -------- | -------------------------------------------------------------------------------------- |
| cfg             | false    | object   | FlexProps & SpaceProps                                                                 |
| disabled        | false    | boolean  | Disable the select                                                                     |
| testId          | false    | string   | data attribute for testers                                                             |
| readOnly        | false    | boolean  | Specifies whether the control is read only like a select, or editable like a combobox. |
| validate        | false    | function | Validates the selected value. If not specified an 'optional' label is displayed.       |
| notFoundMessage | false    | string   | Displayed when there are no options to select                                          |
