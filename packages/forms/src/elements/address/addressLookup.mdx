---
name: Address lookup
menu: Forms
route: /forms/address
---

import { Playground } from '@playground';
import { Form, Field } from 'react-final-form';
import { Button } from '@tpr/core';
import { AddressLookup } from './addressLookup';
import { FFInputText } from '../text/text';

# Address lookup

Address lookup component.

## When To Use

- For selecting or editing an address using a postcode lookup, where only address lines 1 and 2 are editable without using the lookup.

## Usage

`Inside your React project directory, run the following:`

```js
yarn add @tpr/forms
```

`or with npm`

```js
npm install @tpr/forms
// initialValue={{
// 								addressLine1: 'Napier House',
// 								addressLine2: 'Trafalgar Place',
// 								addressLine3: 'Trafalgar Road',
// 								postTown: 'Brighton',
// 								county: 'East Sussex',
// 								postcode: 'BN1 4DW',
// 								country: 'UK',
// 								countryId: 229,
// 								uprn: 22063565,
// 							}}
```

`import items you wish to use from the library`

```js
import { AddressLookup } from '@tpr/forms';
```

## Examples

[CodeSandbox](https://codesandbox.io)

<Playground>
	{() => {
		return (
			<Form
				onSubmit={(values) => {
					console.log('submit');
					console.log(values);
				}}
			>
				{({ handleSubmit, values }) => (
					<form onSubmit={handleSubmit}>
						<AddressLookup
							
							onPostcodeChanged={(postcode) => [
								{
									addressLine1: 'Napier House',
									addressLine2: 'Trafalgar Place',
									addressLine3: 'Trafalgar Road',
									postTown: 'Brighton',
									county: 'East Sussex',
									postcode: 'BN1 4DW',
									nationId: 1,
									country: 'UK',
									countryId: 229,
									uprn: 22063565,
								},
								{
									addressLine1: 'Financial Conduct Authority',
									addressLine2: '12 Endeavour Square',
									postTown: 'London',
									postcode: 'E20 1JN',
									country: 'UK',
									countryId: 229,
									uprn: 10093129234,
								},
								{
									addressLine1: 'Pension Protection Fund',
									addressLine3: '12 Dingwall Road',
									postTown: 'Croydon',
									postcode: 'CR0 2NA',
									country: 'UK',
									countryId: 229,
									uprn: 10091767168,
								},
							]}
							invalidPostcodeMessage="Enter a valid postcode"
							postcodeLookupLabel="Postcode"
							postcodeLookupButton="Find address"
							changePostcodeButton="Change"
							changePostcodeAriaLabel="Change postcode"
							selectAddressLabel="Select an address"
							selectAddressPlaceholder="Select an address from the list"
							selectAddressButton="Select address"
							selectAddressRequiredMessage="Select an address to continue"
							noAddressesFoundMessage="No matching addresses were found"
							addressLine1Label="Address line 1"
							addressLine1RequiredMessage="You must complete this field"
							addressLine2Label="Address line 2"
							addressLine3Label="Address line 3"
							townLabel="Post town"
							countyLabel="County"
							postcodeLabel="Postcode"
							countryLabel="Country"
							changeAddressButton="I need to change the address"
							changeAddressAriaLabel={null}
							/>
    					<Button type="submit" cfg={{mt:3}}>What happens if I click this?</Button>
    					<pre>{JSON.stringify(values, 0, 2)}</pre>
    				</form>
    			)}
    		</Form>
    	);
    }}

</Playground>

## API

```
Accepted config props: FlexProps, SpaceProps
```

### Props

| Property          | Required | Type     | Description                                                |
| ----------------- | -------- | -------- | ---------------------------------------------------------- |
| cfg               | false    | object   | FlexProps & SpaceProps                                     |
| initialValue      | false    | Address  | Existing value to pre-populate the component               |
| testId            | false    | string   | data attribute for testers                                 |
| onPostcodeChanged | true     | function | Callback which should return addresses matching a postcode |
| onAddressSaved    | true     | function | Callback which receives the selected address               |
